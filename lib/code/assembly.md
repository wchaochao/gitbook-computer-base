# 汇编语言

标签（空格分隔）： 计算机基础

---

使用助记符的编程语言

## 语法

把标签、操作码和操作数并排写在一行上

* 标签：指代当前行的内存地址，可为任意单词
* 操作码：指令
* 操作数：指令的对象
 * 使用十进制数（如123）或十六进制数（如123H）
 * 多个操作数用逗号分隔

```
标签  操作码  操作数
      LD      A, 207
      OUT     (2), A // 设定端口A的输入输出模式
      LD      A, 255
      OUT     (2), A // 将端口A设定为输入模式
      LD      A, 207
      OUT     (3), A // 设定端口B的输入输出模式
      LD      A, 0
      OUT     (3), A // 将端口B设定为输入模式
LOOP: IN      A, (0)
      OUT     (1), A
      JP      LOOP
```

## 常用指令

* num：数值num
* (num): 值为num的地址
* reg：寄存器reg
* (reg): 寄存器reg存储的地址
* LD: load，内存的输入输出
* IN: in, I/O输入
* OUT: out, I/O输出
* JP: jump, 跳转
* CALL: 函数调用
* RETURN: 函数返回

## 汇编

将汇编语言转换为机器语言的过程

| 助记符 | 机器语言 | 时钟周期数
| --- | --- | --- |
| LD A, num | 00111110 num | 7 |
| OUT (num), A | 11010011 num | 11 |
| IN A, (num) | 11011011 num | 11 |
| JP num | 11000011 num | 10 |

```
地址　　　机器语言 　　　             标签　  操作码　 操作数
00000000　00111110 11001111                   LD 　　 A, 207
00000010　11010011 00000010                   OUT 　　(2), A
00000100　00111110 11111111                   LD 　　 A, 255
00000110　11010011 00000010                   OUT 　　(2), A
00001000　00111110 11001111                   LD 　　 A, 207
00001010　11010011 00000011                   OUT 　　(3), A
00001100　00111110 00000000                   LD 　　 A, 0
00001110　11010011 00000011                   OUT 　　(3), A
00010000　11011011 00000000           LOOP:   IN　　  A, (0)
00010010　11010011 00000001                   OUT 　　(1), A
00010100　11000011 00010000 00000000 　　     JP　　　LOOP  // 内存地址为16位小端序
```

多字节存储

* 大端序：高位字节在前
* 小端序：低位字节在前
